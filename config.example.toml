# MVG Departures Configuration File
# This TOML file provides detailed configuration for stops and display settings.
# Set CONFIG_FILE environment variable to point to this file.

[display]

title = "Giesing Departures"

# UI theme: 'light', 'dark', or 'auto' (follows system preference)
# Default: 'light'
theme = "auto"

# Number of departures to show per page within a route group
departures_per_page = 5

# Seconds to display each page before rotating
page_rotation_seconds = 8

# Seconds to toggle relative and absolute time (0 for relative time only)
time_format_toggle_seconds = 5

# Enable pagination/animation
# Set to false to show all departures at once (recommended for full view)
pagination_enabled = false

# Interval between departure updates in seconds
refresh_interval_seconds = 20

# Banner/header background color (hex color code, e.g., #087BC4)
banner_color = "#087BC4"

# Font sizes (in rem units)
# Adjust these to customize the appearance of different text elements
font_size_route_number = "4rem"
font_size_destination = "3.5rem"
font_size_platform = "2.5rem"
font_size_time = "4rem"
font_size_stop_header = "3rem"
font_size_direction_header = "2.5rem"
font_size_pagination_indicator = "2rem"
font_size_countdown_text = "1.8rem"
font_size_delay_amount = "2rem"
font_size_no_departures = "2.5rem"
font_size_no_departures_available = "3rem"
font_size_status_header = "1.875rem"

# To find the station ID, run one of these commands:
#   .venv/bin/mvg-config search "Balanstr"         (from project root, after setup)
#   mvg-config search "Balanstr"                   (if venv is activated)

# API configuration
# Sleep time in milliseconds between API calls to avoid rate limiting
# Set to 0 to disable delays (not recommended for production)
[api]
sleep_ms_between_calls = 500

# Stops configuration
[[stops]]
station_id = "de:09162:1110"
station_name = "Giesing"
max_departures_per_stop = 12
max_departures_per_route = 2
# Leeway in minutes: departures earlier than now + leeway are filtered out
# This does not affect the counts (max_departures_per_stop, max_departures_per_route)
# Set to 0 to disable filtering
departure_leeway_minutes = 0
# If false, only show departures matching direction_mappings (strict whitelist)
# If true, show unmatched departures in "Other" group
show_ungrouped = true
# Optional: Use stop_point_global_id directly as station_id for physical stop filtering
# When a station has multiple physical stops (e.g., buses making a loop),
# define separate [[stops]] entries using the stop_point_global_id as station_id
# Example: station_id = "de:09162:1108:4:4"  (instead of "de:09162:1108")
# If using base station_id (e.g., "de:09162:1108"), shows departures from all physical stops
# Use 'mvg-config routes <station_id>' to see available stop points and copy/paste the ID

[stops.direction_mappings]
# Patterns match: "line destination" or "transport_type line destination"
# Examples: "139 Messestadt West" or "Bus 139 Messestadt West"

# Group destinations heading toward Balanstraße (east)
"->Balanstr." = [
    "139 Messestadt West",
    "139 Neuperlach Zentrum",
]

# Group destinations heading toward Klinikum (south)
"->Klinikum" = [
    "139 Klinikum Harlaching",
]

"->Schwanseestr." = [
    "18 Schwanseestraße",
]

# Group destinations heading toward Tegernseer Landstraße (north)
"->Tegernseer" = [
    "54 Lorettoplatz",
]

# Group destinations heading toward Ostbahnhof
"->Ostbahnhof" = [
    "54 Münchner Freiheit",
]

# Group destinations heading toward city center (west/north)
"->Stadt" = [
    "18 Gondrellplatz",
]

# Second stop: Balanstraße
[[stops]]
station_id = "de:09162:1056"
station_name = "Balanstr."
max_departures_per_stop = 4
max_departures_per_route = 2
show_ungrouped = false

[stops.direction_mappings]
# Group destinations heading toward Giesing
"->Giesing" = ["139 Klinikum Harlaching", "59 Giesing Bahnhof"]

# Example: Multiple physical stops at the same station
# If a station has multiple physical stops, define separate [[stops]] entries
# using the stop_point_global_id directly as the station_id:
# [[stops]]
# station_id = "de:09162:1108:5:5"
# station_name = "Chiemgaustraße (Stop 5)"
# [stops.direction_mappings]
# "->Klinikum" = ["139 Klinikum Harlaching"]
#
# [[stops]]
# station_id = "de:09162:1108:4:4"
# station_name = "Chiemgaustraße (Stop 4)"
# [stops.direction_mappings]
# "->Klinikum" = ["139 Klinikum Harlaching"]

# Additional route example
[[routes]]

path = "/hohenzollernplatz"

[[routes.display]]

title = "Hohenzollernplatz Departures"
# UI theme: 'light', 'dark', or 'auto' (follows system preference)
# Default: 'light'
theme = "light"
fill_vertical_space = true
font_scaling_factor_when_filling = 0.8

# Enable hash-based pastel colors for headers (stable colors based on header text)
# Colors are designed to work well in both light and dark modes
# First header always uses banner_color; only subsequent headers get random colors
random_header_colors = true

# Brightness adjustment for random header colors (0.0-1.0, default 0.7)
# Lower values = darker colors, higher values = lighter colors
header_background_brightness = 0.7

[[routes.stops]]
station_id = "de:09162:140"
station_name = "Hohenzollernplatz"

max_departures_per_stop = 12
max_departures_per_route = 2
departure_leeway_minutes = 8
show_ungrouped = false

[routes.stops.direction_mappings]
"->HBf (in 8+ min)" = ["U2 Messestadt Ost", "U2 Giesing"]
"->Rotkreuzplatz" = ["53 Aidenbachstraße", "12 Romanplatz"]
"->Scheidplatz" = ["U2 Feldmoching", "12 Schwabing Nord"]

[[routes.stops]]

station_id = "de:09162:43"
station_name = "Kurfürstenplatz"

max_departures_per_stop = 3
max_departures_per_route = 2
# example included walking distance
departure_leeway_minutes = 15
show_ungrouped = false

[routes.stops.direction_mappings]
"->Stachus (in 15+ min)" = ["27 Sendlinger Tor", "28 Sendlinger Tor"]
